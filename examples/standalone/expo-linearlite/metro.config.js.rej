@@ -8,6 +9,20 @@
 /** @type {import('expo/metro-config').MetroConfig} */
 const config = getDefaultConfig(__dirname)
 
-addLiveStoreDevtoolsMiddleware(config, { schemaPath: './src/livestore/schema.ts' })
+// Needed for monorepo setup (can be removed in standalone projects)
+if (process.env.MONOREPO_ROOT) {
+  config.watchFolders = [path.resolve(process.env.MONOREPO_ROOT)]
+}
+
+addLiveStoreDevtoolsMiddleware(config, {
+  schemaPath: './src/livestore/schema.ts',
+  viteConfig: (viteConfig) => {
+    viteConfig.server.fs ??= {}
+    viteConfig.server.fs.strict = false
+    viteConfig.optimizeDeps ??= {}
+    viteConfig.optimizeDeps.force = true
+    return viteConfig
+  },
+})
 
 module.exports = withNativeWind(config, { input: './src/global.css' })
